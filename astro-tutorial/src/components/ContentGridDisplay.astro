---
import { getCollection } from "astro:content";
import Wrapper from "./Wrapper.astro";
import Button from "./Button.astro";
import GridPage from "./Grid.astro";

const {
  title,
  content,
  linkText,
  linkUrl,
  information,
  subset,
  // count = 4,s
  id,
  isDark = false,
  classes = {},
  bg = await Astro.slots.render("bg"),
} = Astro.props;

const items = await getCollection(content)
---

<Wrapper id={id} isDark={isDark} containerClass={`max-w-5xl mx-auto ${classes?.container ?? ''}`} bg={bg}>
      <div class="flex flex-col lg:justify-between lg:flex-row mb-8">
        {title && (
          <div class="md:max-w-sm">
            <h2
              class="text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none group font-heading mb-2"
              set:html={title}
            />
            {linkText && linkUrl && (
              <Button variant="link" href={linkUrl}> {linkText} Â»</Button>
            )}
          </div>
        )}

        {information && <p class="text-muted dark:text-slate-400 lg:text-sm lg:max-w-md" set:html={information} />}
      </div>
      {subset ? (
        <GridPage items={subset} content={content}/>
      ) : (
      <GridPage items={items} content={content}/>
      )}
</Wrapper>

